plugins {
    id 'java-base'
    id 'jacoco'
    id 'com.github.jk1.dependency-license-report'
    id "com.github.ben-manes.versions"
    id "com.enonic.defaults"
    id 'biz.aQute.bnd.builder' apply false
}

ext {
    leafProjects = subprojects.findAll { p -> p.subprojects.empty }
    javaProjects = leafProjects - project( ':runtime' ) - project( ':docs' )
}

allprojects {
    group = 'com.enonic.xp'

    apply plugin: 'com.enonic.defaults'
    apply from: "$rootDir/gradle/versions.gradle"
}

configure( javaProjects ) {
    apply from: "$rootDir/gradle/java.gradle"
}

configure( rootProject ) {
    apply from: "$rootDir/gradle/ci.gradle"
    apply from: "$rootDir/gradle/tools.gradle"
}
