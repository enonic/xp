<!doctype html>
<html lang=en>
<head>
    <meta charset=utf-8>
    <title>Enonic WEM Admin - membership prototype</title>
    <link rel="stylesheet" type="text/css" href="../../resources/lib/ext/resources/css/ext-all.css">
    <link rel="stylesheet" type="text/css" href="../../resources/css/main.css">
    <link rel="stylesheet" type="text/css" href="../../resources/css/BoxSelect.css">

    <style type="text/css">

        .infovis-container {
            overflow: hidden;
            margin-right: 10px;
            cursor: move;
            font-size: 11px;
        }

        .infovis-container .node {
            padding: 4px;
            cursor: pointer !important;
            border: 1px solid transparent;
        }

        .infovis-container .node:hover {
            text-decoration: underline;
        }

        .infovis-container .node-label {
            text-align: center;
            padding-top: 1px;
            white-space: pre;
        }

            /* Details */
        .admin-graph-details {
            top: 5px;
            right: 5px;
            list-style: none;
            margin: 7px;
            color: #777777;
        }

        .admin-graph-details ul {
            margin: 10px 0 0 0;
        }

        .admin-graph-details ul li {
            list-style: disc;
            margin: 0 0 0 40px;
        }

        .admin-graph-details h4 {
            margin: 0 0 2px 0;
            color: #555;
            font-weight: bold;
            font-size: 11px;
        }

        .admin-memberships-graph {
            border-right: 1px solid #F0F0F0;
            border-bottom: 1px solid #F0F0F0;
        }

    </style>
    <script type="text/javascript" src="../../resources/lib/jit/jit-yc.js"></script>
    <script type="text/javascript" src="../../resources/app/template/Common.js"></script>
    <script type="text/javascript" src="../../resources/lib/ext/ext-all-debug.js"></script>
    <script type="text/javascript">
        var key = 'D78B393C8656BC51BA48794CBBA576F107FD903C';
        var membershipsJson = [
            {"id": "D78B393C8656BC51BA48794CBBA576F107FD903C", "name": "Thomas Sigdestad", "adjacencies": [
                {nodeTo: key + "node1_0"},
                {nodeTo: key + "node1_1"},
                {nodeTo: key + "node1_2"},
                {nodeTo: key + "node1_3"},
                {nodeTo: key + "node1_4"}
            ], "data": {key: 'D78B393C8656BC51BA48794CBBA576F107FD903C', type: 'user'}},
            {"id": key + "node1_0", "name": "Developers", "adjacencies": [
                {nodeTo: key + "node1_1"},
                {nodeTo: key + "node2_0"},
                {nodeTo: key + "node2_1"},
                {nodeTo: key + "node2_2"}
            ], "data": {type: 'role'}},
            {"id": key + "node1_1", "name": "Enonic Employees", "adjacencies": [
                {nodeTo: key + "node2_3"}
            ], "data": {type: 'role'}},
            {"id": key + "node1_2", "name": "Enterprise Administrators", "data": {type: 'role'}},
            {"id": key + "node1_3", "name": "Newsletter", "data": {type: 'group'}},
            {"id": key + "node1_4", "name": "Userstore Administrators", "data": {type: 'role'}},
            {"id": key + "node2_0", "name": "Administrators", "data": {type: 'role'}},
            {"id": key + "node2_1", "name": "Enonic Community Users", "adjacencies": [
                {nodeTo: key + "node1_1"},
                {nodeTo: key + "node1_3"},
                {nodeTo: key + "node3_0"}
            ], "data": {type: 'group'}},
            {"id": key + "node2_2", "name": "Expert Contributors", "data": {type: 'role'}},
            {"id": key + "node2_3", "name": "Kundeservice", "data": {type: 'group'}},
            {"id": key + "node3_0", "name": "Acme Corporation", "data": {type: 'group'}}
        ];

        Ext.Loader.setConfig({
            enabled: true,
            paths: {
                'App': 'app/account/js',
                'Common': '../../common/js',
                'Admin': '../../resources/app',
                'Lib': '../../resources/lib'
            },

            disableCaching: false
        });

        Ext.application(
                {
                    name: 'App',
                    appFolder: 'app/account/js',

                    requires: ['Admin.view.account.MembershipsGraphPanel'],

                    launch: function () {
                        Ext.create('Ext.container.Viewport', {
                            layout: 'border',
                            padding: 0,
                            items: [
                                {
                                    region: 'center',
                                    id: 'region-center',
                                    xtype: 'tabpanel',
                                    items: [
                                        {
                                            title: 'Profile'
                                        },
                                        {
                                            title: 'Places'
                                        },
                                        {
                                            title: 'Memberships',
                                            xtype: 'membershipsGraphPanel',
                                            extraCls: 'admin-memberships-graph'
                                        }
                                    ]
                                }
                            ]
                        });
                    }
                });
    </script>

</head>
<body>

</body>
</html>
