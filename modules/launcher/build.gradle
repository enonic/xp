import com.enonic.gradle.BuildInfoHelper

dependencies {
    compile 'org.osgi:osgi.core:6.0.0'
    compile 'org.osgi:osgi.cmpn:6.0.0'
    compile 'org.apache.felix:org.apache.felix.framework:5.2.0'
    compile 'org.apache.felix:org.apache.felix.utils:1.8.0'
    compile 'com.google.guava:guava:18.0'
    compile 'commons-io:commons-io:2.4'
    compile 'ch.qos.logback:logback-classic:1.1.2'
    compile 'org.slf4j:jul-to-slf4j:1.7.10'
    compile 'org.slf4j:jcl-over-slf4j:1.7.10'
    compile 'org.slf4j:log4j-over-slf4j:1.7.10'
    compile 'org.fusesource.jansi:jansi:1.11'
}

ext {
    buildInfo = BuildInfoHelper.extract( project.rootDir )
}

processResources {
    filesMatching( '**/build.properties' ) {
        expand( [info: buildInfo] )
    }
}

jar {
    manifest {
        attributes( ['Implementation-Version': project.version] )
    }
}
